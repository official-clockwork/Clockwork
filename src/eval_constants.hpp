#pragma once

#include "eval_types.hpp"

namespace Clockwork {

// clang-format off
inline const PParam PAWN_MAT   = S(152, 201);
inline const PParam KNIGHT_MAT = S(564, 560);
inline const PParam BISHOP_MAT = S(601, 597);
inline const PParam ROOK_MAT   = S(445, 670);
inline const PParam QUEEN_MAT  = S(1049, 1156);
inline const PParam TEMPO_VAL  = S(60, 17);

inline const PParam BISHOP_PAIR_VAL   = S(50, 193);
inline const PParam ROOK_OPEN_VAL     = S(111, -18);
inline const PParam ROOK_SEMIOPEN_VAL = S(46, 21);

inline const PParam DOUBLED_PAWN_VAL = S(-8, -65);
inline const PParam ISOLATED_PAWN_VAL = S(-19, -20);

inline const PParam POTENTIAL_CHECKER_VAL = S(-56, -11);
inline const PParam OUTPOST_KNIGHT_VAL    = S(37, 57);
inline const PParam OUTPOST_BISHOP_VAL    = S(58, 25);

inline const PParam PAWN_PUSH_THREAT_KNIGHT = S(44, 5);
inline const PParam PAWN_PUSH_THREAT_BISHOP = S(56, -20);
inline const PParam PAWN_PUSH_THREAT_ROOK   = S(29, 49);
inline const PParam PAWN_PUSH_THREAT_QUEEN  = S(70, -34);

inline const std::array<PParam, 6> PAWN_PHALANX = {
    S(15, 1), S(41, 24), S(60, 49), S(139, 142), S(386, 214), S(496, 515),
};
inline const std::array<PParam, 5> DEFENDED_PAWN = {
    S(55, 32), S(47, 22), S(55, 49), S(117, 140), S(423, 68),
};
inline const std::array<PParam, 6> PASSED_PAWN = {
    S(-92, -128), S(-86, -104), S(-65, 4), S(-7, 103), S(81, 236), S(271, 350),
};
inline const std::array<PParam, 6> DEFENDED_PASSED_PUSH = {
    S(41, -49), S(38, -7), S(24, 32), S(2, 109), S(51, 212), S(215, 256),
};
inline const std::array<PParam, 6> BLOCKED_PASSED_PAWN = {
    S(24, -45), S(7, 2), S(2, -25), S(-4, -52), S(-3, -130), S(-205, -230),
};

inline const std::array<PParam, 8> FRIENDLY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(-2, 155), S(-18, 129), S(-6, 55), S(4, 17), S(9, 15), S(44, 11), S(20, 1),
};
inline const std::array<PParam, 8> ENEMY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(-289, -50), S(-15, 12), S(-17, 69), S(21, 106), S(40, 128), S(58, 132), S(39, 128),
};

inline const std::array<PParam, 9> KNIGHT_MOBILITY = {
    S(100, -5), S(172, 163), S(208, 248), S(236, 283), S(278, 298), S(303, 328), S(337, 325), S(371, 332), S(428, 242),
};
inline const std::array<PParam, 14> BISHOP_MOBILITY = {
    S(111, -0), S(156, 165), S(212, 223), S(241, 264), S(267, 291), S(286, 310), S(296, 325), S(313, 330), S(323, 341), S(350, 321), S(370, 311), S(420, 258), S(434, 253), S(468, 203),
};
inline const std::array<PParam, 15> ROOK_MOBILITY = {
    S(352, 220), S(270, 394), S(295, 418), S(312, 427), S(324, 439), S(330, 450), S(337, 459), S(346, 461), S(353, 470), S(365, 470), S(379, 469), S(390, 468), S(397, 466), S(416, 437), S(514, 323),
};
inline const std::array<PParam, 28> QUEEN_MOBILITY = {
    S(556, 415), S(693, 441), S(717, 552), S(736, 661), S(751, 706), S(760, 749), S(766, 778), S(773, 790), S(776, 815), S(779, 829), S(785, 834), S(790, 841), S(798, 838), S(801, 841), S(806, 837), S(804, 840), S(804, 840), S(812, 832), S(820, 821), S(825, 822), S(832, 802), S(859, 760), S(845, 774), S(847, 715), S(833, 708), S(820, 688), S(752, 748), S(774, 651),
};
inline const std::array<PParam, 9> KING_MOBILITY = {
    S(415, -60), S(112, -106), S(27, -17), S(14, 15), S(-7, 14), S(-26, 16), S(-17, 7), S(-31, 14), S(-13, -32),
};

inline const std::array<PParam, 5> PT_INNER_RING_ATTACKS = {
    S(11, -2), S(14, 87), S(12, 78), S(4, 10), S(4, -86),
};
inline const std::array<PParam, 5> PT_OUTER_RING_ATTACKS = {
    S(4, -19), S(5, 21), S(4, 12), S(4, 15), S(8, 862),
};

inline const PParam PAWN_THREAT_KNIGHT = S(220, 80);
inline const PParam PAWN_THREAT_BISHOP = S(200, 125);
inline const PParam PAWN_THREAT_ROOK   = S(191, 119);
inline const PParam PAWN_THREAT_QUEEN  = S(177, -35);

inline const PParam KNIGHT_THREAT_BISHOP = S(113, 92);
inline const PParam KNIGHT_THREAT_ROOK   = S(231, 58);
inline const PParam KNIGHT_THREAT_QUEEN  = S(151, 1);

inline const PParam BISHOP_THREAT_KNIGHT = S(107, 51);
inline const PParam BISHOP_THREAT_ROOK   = S(217, 114);
inline const PParam BISHOP_THREAT_QUEEN  = S(181, 83);

inline const std::array<PParam, 9> BISHOP_PAWNS = {
    S(7, -29), S(-4, -8), S(-6, -16), S(-10, -25), S(-14, -35), S(-19, -40), S(-21, -52), S(-28, -50), S(-38, -51),
};

inline const PParam ROOK_LINEUP = S(12, 64);

inline const std::array<PParam, 48> PAWN_PSQT = {
    S(310, 267),    S(178, 336),    S(307, 324),    S(281, 253),    S(307, 205),    S(202, 282),    S(140, 319),    S(231, 294),    //
    S(139, 152),    S(180, 174),    S(201, 131),    S(169, 94),     S(148, 76),     S(119, 123),    S(94, 175),     S(47, 198),     //
    S(89, 129),     S(73, 138),     S(104, 96),     S(100, 77),     S(88, 71),      S(61, 97),      S(11, 143),     S(2, 170),      //
    S(60, 91),      S(47, 117),     S(75, 92),      S(64, 87),      S(41, 88),      S(25, 109),     S(-37, 148),    S(-32, 139),    //
    S(63, 60),      S(104, 59),     S(85, 104),     S(65, 106),     S(33, 104),     S(6, 114),      S(-31, 133),    S(-33, 123),    //
    S(74, 65),      S(173, 64),     S(154, 117),    S(90, 135),     S(57, 126),     S(34, 118),     S(2, 134),      S(-14, 137),    //
};
inline const std::array<PParam, 64> KNIGHT_PSQT = {
    S(-237, -104),  S(-131, 173),   S(-128, 81),    S(133, 140),    S(75, 137),     S(-91, 166),    S(-237, 218),   S(-286, -16),   //
    S(97, 131),     S(146, 144),    S(247, 96),     S(249, 106),    S(234, 127),    S(154, 138),    S(101, 165),    S(73, 145),     //
    S(199, 111),    S(237, 124),    S(265, 146),    S(265, 133),    S(219, 172),    S(149, 195),    S(150, 151),    S(117, 143),    //
    S(254, 148),    S(276, 150),    S(275, 166),    S(265, 193),    S(261, 204),    S(209, 201),    S(194, 182),    S(186, 155),    //
    S(227, 161),    S(272, 130),    S(244, 179),    S(238, 201),    S(213, 208),    S(206, 200),    S(204, 153),    S(159, 169),    //
    S(162, 143),    S(191, 144),    S(181, 183),    S(191, 201),    S(186, 203),    S(146, 193),    S(136, 162),    S(106, 132),    //
    S(171, 150),    S(192, 146),    S(162, 151),    S(165, 172),    S(154, 173),    S(127, 132),    S(114, 153),    S(102, 72),     //
    S(106, 107),    S(154, 165),    S(169, 132),    S(183, 125),    S(167, 144),    S(133, 120),    S(117, 146),    S(77, 75),      //
};
inline const std::array<PParam, 64> BISHOP_PSQT = {
    S(27, 258),     S(26, 250),     S(-249, 315),   S(-114, 249),   S(-125, 272),   S(-144, 275),   S(-30, 273),    S(54, 247),     //
    S(150, 174),    S(98, 246),     S(136, 194),    S(75, 227),     S(86, 229),     S(110, 224),    S(149, 220),    S(128, 197),    //
    S(230, 194),    S(240, 209),    S(241, 209),    S(224, 198),    S(188, 205),    S(187, 222),    S(203, 213),    S(193, 194),    //
    S(200, 182),    S(238, 185),    S(238, 210),    S(238, 241),    S(270, 229),    S(197, 213),    S(200, 187),    S(160, 189),    //
    S(225, 142),    S(242, 171),    S(246, 198),    S(251, 226),    S(227, 240),    S(209, 222),    S(175, 204),    S(170, 165),    //
    S(248, 155),    S(281, 167),    S(289, 200),    S(236, 222),    S(228, 207),    S(221, 219),    S(232, 190),    S(176, 184),    //
    S(213, 130),    S(306, 158),    S(265, 168),    S(227, 193),    S(210, 193),    S(214, 169),    S(216, 166),    S(212, 154),    //
    S(242, 139),    S(230, 162),    S(224, 197),    S(239, 157),    S(228, 169),    S(231, 206),    S(227, 184),    S(219, 160),    //
};
inline const std::array<PParam, 64> ROOK_PSQT = {
    S(424, 324),    S(456, 324),    S(428, 342),    S(450, 308),    S(432, 310),    S(397, 321),    S(379, 350),    S(369, 356),    //
    S(309, 395),    S(397, 378),    S(477, 342),    S(426, 350),    S(406, 362),    S(386, 363),    S(308, 403),    S(285, 415),    //
    S(287, 383),    S(401, 357),    S(462, 315),    S(443, 303),    S(390, 337),    S(345, 360),    S(340, 367),    S(266, 412),    //
    S(283, 354),    S(369, 351),    S(404, 323),    S(380, 325),    S(371, 335),    S(326, 365),    S(318, 367),    S(239, 399),    //
    S(258, 297),    S(328, 306),    S(320, 319),    S(298, 317),    S(275, 341),    S(262, 360),    S(228, 362),    S(204, 363),    //
    S(245, 247),    S(313, 266),    S(301, 286),    S(285, 284),    S(268, 298),    S(240, 327),    S(236, 306),    S(198, 319),    //
    S(131, 271),    S(271, 227),    S(283, 246),    S(274, 267),    S(257, 275),    S(248, 283),    S(231, 269),    S(204, 283),    //
    S(198, 253),    S(223, 273),    S(281, 257),    S(295, 251),    S(283, 260),    S(262, 277),    S(250, 276),    S(229, 286),    //
};
inline const std::array<PParam, 64> QUEEN_PSQT = {
    S(583, 566),    S(644, 498),    S(549, 625),    S(503, 686),    S(495, 661),    S(543, 607),    S(561, 559),    S(505, 620),    //
    S(569, 646),    S(540, 730),    S(526, 738),    S(367, 820),    S(375, 811),    S(454, 777),    S(501, 669),    S(508, 652),    //
    S(533, 694),    S(576, 703),    S(514, 771),    S(455, 796),    S(432, 789),    S(486, 719),    S(533, 645),    S(548, 584),    //
    S(580, 583),    S(588, 657),    S(520, 729),    S(513, 750),    S(506, 760),    S(516, 677),    S(567, 600),    S(542, 599),    //
    S(601, 545),    S(592, 610),    S(561, 663),    S(538, 694),    S(533, 711),    S(532, 669),    S(548, 599),    S(577, 520),    //
    S(583, 494),    S(618, 554),    S(616, 604),    S(584, 594),    S(576, 597),    S(572, 621),    S(583, 554),    S(562, 524),    //
    S(570, 373),    S(606, 400),    S(612, 459),    S(623, 498),    S(606, 532),    S(600, 502),    S(563, 538),    S(571, 523),    //
    S(548, 397),    S(582, 252),    S(603, 280),    S(618, 386),    S(615, 460),    S(613, 409),    S(600, 436),    S(563, 474),    //
};
inline const std::array<PParam, 64> KING_PSQT = {
    S(-149, -313),  S(187, 238),    S(109, 132),    S(-21, -20),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(161, -45),    S(238, 249),    S(108, 212),    S(75, 29),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(158, 56),     S(300, 154),    S(212, 132),    S(153, 27),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(22, 13),      S(278, 79),     S(125, 109),    S(76, 100),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-84, -6),     S(171, 49),     S(90, 89),      S(-22, 142),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-45, -38),    S(153, 12),     S(37, 66),      S(-6, 105),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(16, -91),     S(80, -23),     S(-32, 29),     S(-100, 73),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-87, -158),   S(10, -107),    S(-102, -71),   S(-110, -83),   S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
};

inline const std::array<std::array<PParam, 7>, 4> KING_SHELTER = {{
  {{ S(9, -92), S(-7, -63), S(-11, -85), S(-4, -110), S(-4, -103), S(-10, -109), S(-5, -62), }},
  {{ S(-4, -79), S(-31, -183), S(-28, -113), S(-19, -70), S(-18, -45), S(-26, -131), S(-28, -193), }},
  {{ S(-17, -85), S(-24, -239), S(-25, -66), S(-24, -35), S(-22, -32), S(-24, -43), S(-23, -195), }},
  {{ S(-4, -9), S(-25, -180), S(-15, 10), S(-11, 16), S(-11, -4), S(-16, 58), S(-19, -104), }},
}};
inline const std::array<PParam, 7> BLOCKED_SHELTER_STORM = {
    S(0, 0), S(0, 0), S(6, -26), S(-17, -129), S(-16, -94), S(-12, 2), S(-14, -76),
};
inline const std::array<std::array<PParam, 7>, 4> SHELTER_STORM = {{
  {{ S(-7, -58), S(-18, -115), S(-16, -74), S(-14, -88), S(-15, -108), S(-15, -81), S(-18, -113), }},
  {{ S(-7, -106), S(-15, -104), S(-22, -117), S(-18, -121), S(-18, -127), S(-21, -93), S(-15, -86), }},
  {{ S(-14, -58), S(-19, -11), S(-19, -68), S(-14, -81), S(-14, -84), S(-19, -61), S(-18, -22), }},
  {{ S(-16, -93), S(-21, -73), S(-22, -144), S(-15, -80), S(-13, -67), S(-21, -120), S(-23, -50), }},
}};
inline TunableSigmoid<32> KING_SAFETY_ACTIVATION(
        1129, 74, -11, -279
);

inline VParam WINNABLE_PAWNS = V(46);
inline VParam WINNABLE_BIAS = V(-439);

// Epoch duration: 7.41143s
// clang-format on
}  // namespace Clockwork
