#pragma once

#include "eval_types.hpp"

namespace Clockwork {

// clang-format off
inline const PParam PAWN_MAT   = S(172, 149);
inline const PParam KNIGHT_MAT = S(680, 428);
inline const PParam BISHOP_MAT = S(746, 446);
inline const PParam ROOK_MAT   = S(610, 479);
inline const PParam QUEEN_MAT  = S(1415, 722);
inline const PParam TEMPO_VAL  = S(64, 13);

inline const PParam BISHOP_PAIR_VAL   = S(78, 160);
inline const PParam ROOK_OPEN_VAL     = S(107, -23);
inline const PParam ROOK_SEMIOPEN_VAL = S(44, 16);

inline const PParam DOUBLED_PAWN_VAL = S(-27, -74);
inline const PParam ISOLATED_PAWN_VAL = S(0,0);

inline const PParam POTENTIAL_CHECKER_VAL = S(-59, -7);
inline const PParam OUTPOST_KNIGHT_VAL    = S(44, 45);
inline const PParam OUTPOST_BISHOP_VAL    = S(56, 29);

inline const PParam PAWN_PUSH_THREAT_KNIGHT = S(45, 5);
inline const PParam PAWN_PUSH_THREAT_BISHOP = S(55, -23);
inline const PParam PAWN_PUSH_THREAT_ROOK   = S(34, 39);
inline const PParam PAWN_PUSH_THREAT_QUEEN  = S(68, -49);

inline const std::array<PParam, 6> PAWN_PHALANX = {
    S(23, 12), S(54, 35), S(69, 68), S(166, 149), S(481, 182), S(668, 632),
};
inline const std::array<PParam, 5> DEFENDED_PAWN = {
    S(68, 39), S(56, 36), S(70, 65), S(162, 119), S(563, -12),
};
inline const std::array<PParam, 6> PASSED_PAWN = {
    S(-93, -100), S(-84, -80), S(-49, 1), S(20, 84), S(113, 206), S(318, 280),
};
inline const std::array<PParam, 6> DEFENDED_PASSED_PUSH = {
    S(36, -34), S(35, -6), S(27, 20), S(21, 70), S(87, 138), S(182, 234),
};
inline const std::array<PParam, 6> BLOCKED_PASSED_PAWN = {
    S(20, -33), S(3, 7), S(-2, -17), S(-9, -39), S(-26, -82), S(-274, -107),
};

inline const std::array<PParam, 8> FRIENDLY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(14, 110), S(-8, 90), S(-11, 38), S(-7, 8), S(-1, 5), S(35, 2), S(8, -6),
};
inline const std::array<PParam, 8> ENEMY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(-337, -8), S(-33, 19), S(-12, 43), S(23, 72), S(37, 87), S(51, 91), S(26, 87),
};

inline const std::array<PParam, 9> KNIGHT_MOBILITY = {
    S(90, -35), S(179, 134), S(225, 207), S(259, 241), S(304, 253), S(332, 287), S(366, 281), S(402, 285), S(449, 225),
};
inline const std::array<PParam, 14> BISHOP_MOBILITY = {
    S(102, -77), S(159, 118), S(225, 176), S(258, 219), S(285, 251), S(305, 271), S(315, 287), S(331, 294), S(343, 306), S(363, 296), S(380, 289), S(429, 251), S(437, 249), S(490, 208),
};
inline const std::array<PParam, 15> ROOK_MOBILITY = {
    S(342, 162), S(284, 327), S(312, 347), S(331, 354), S(344, 366), S(352, 376), S(360, 384), S(370, 384), S(379, 389), S(390, 389), S(404, 387), S(415, 385), S(422, 384), S(436, 370), S(537, 280),
};
inline const std::array<PParam, 28> QUEEN_MOBILITY = {
    S(647, 206), S(753, 306), S(786, 404), S(808, 519), S(824, 576), S(836, 618), S(843, 653), S(852, 660), S(857, 684), S(862, 694), S(867, 703), S(873, 705), S(882, 699), S(885, 703), S(888, 698), S(890, 696), S(891, 692), S(896, 686), S(903, 672), S(919, 655), S(935, 629), S(963, 596), S(999, 556), S(1092, 460), S(1141, 408), S(1199, 371), S(1227, 340), S(1178, 350),
};
inline const std::array<PParam, 9> KING_MOBILITY = {
    S(526, -212), S(122, -134), S(36, -46), S(24, -8), S(1, -0), S(-23, 6), S(-25, 18), S(-41, 27), S(-41, -6),
};

inline const std::array<PParam, 5> PT_INNER_RING_ATTACKS = {
    S(11, -12), S(16, -17), S(14, -13), S(6, -9), S(3, 213),
};
inline const std::array<PParam, 5> PT_OUTER_RING_ATTACKS = {
    S(3, -2), S(7, -10), S(6, -8), S(6, -6), S(7, 464),
};

inline const PParam PAWN_THREAT_KNIGHT = S(237, 68);
inline const PParam PAWN_THREAT_BISHOP = S(215, 117);
inline const PParam PAWN_THREAT_ROOK   = S(217, 87);
inline const PParam PAWN_THREAT_QUEEN  = S(185, -46);

inline const PParam KNIGHT_THREAT_BISHOP = S(124, 73);
inline const PParam KNIGHT_THREAT_ROOK   = S(257, 16);
inline const PParam KNIGHT_THREAT_QUEEN  = S(169, -43);

inline const PParam BISHOP_THREAT_KNIGHT = S(117, 41);
inline const PParam BISHOP_THREAT_ROOK   = S(247, 72);
inline const PParam BISHOP_THREAT_QUEEN  = S(202, 52);

inline const std::array<PParam, 9> BISHOP_PAWNS = {
    S(3, -22), S(-4, -9), S(-5, -19), S(-11, -26), S(-17, -31), S(-23, -35), S(-27, -44), S(-33, -43), S(-45, -41),
};

inline const PParam ROOK_LINEUP = S(13, 73);

inline const std::array<PParam, 48> PAWN_PSQT = {
    S(313, 289),    S(187, 372),    S(317, 340),    S(335, 212),    S(361, 162),    S(281, 236),    S(222, 266),    S(309, 223),    //
    S(129, 184),    S(185, 216),    S(209, 136),    S(202, 82),     S(178, 69),     S(150, 114),    S(135, 153),    S(75, 174),     //
    S(94, 149),     S(97, 150),     S(128, 76),     S(129, 62),     S(116, 63),     S(85, 95),      S(52, 138),     S(29, 159),     //
    S(63, 111),     S(71, 132),     S(93, 76),      S(92, 69),      S(69, 74),      S(54, 99),      S(11, 142),     S(-6, 132),     //
    S(54, 88),      S(109, 96),     S(84, 119),     S(81, 104),     S(52, 105),     S(29, 110),     S(12, 128),     S(-11, 116),    //
    S(73, 93),      S(180, 105),    S(161, 145),    S(117, 131),    S(85, 125),     S(61, 123),     S(45, 137),     S(9, 133),      //
};
inline const std::array<PParam, 64> KNIGHT_PSQT = {
    S(-277, 34),    S(-179, 217),   S(-272, 287),   S(94, 180),     S(36, 176),     S(-96, 170),    S(-272, 213),   S(-340, 107),   //
    S(103, 160),    S(166, 159),    S(244, 121),    S(242, 139),    S(228, 156),    S(160, 149),    S(126, 171),    S(88, 147),     //
    S(196, 130),    S(232, 160),    S(250, 184),    S(244, 181),    S(219, 187),    S(155, 204),    S(168, 151),    S(125, 150),    //
    S(265, 152),    S(275, 164),    S(275, 189),    S(268, 212),    S(271, 212),    S(221, 204),    S(214, 171),    S(204, 147),    //
    S(250, 152),    S(280, 142),    S(261, 183),    S(256, 200),    S(234, 204),    S(229, 191),    S(222, 148),    S(190, 148),    //
    S(183, 132),    S(212, 131),    S(203, 165),    S(216, 187),    S(215, 184),    S(174, 170),    S(165, 134),    S(132, 112),    //
    S(196, 121),    S(220, 123),    S(190, 128),    S(195, 147),    S(184, 146),    S(152, 113),    S(151, 121),    S(117, 61),     //
    S(127, 103),    S(174, 156),    S(194, 118),    S(209, 111),    S(194, 126),    S(155, 106),    S(140, 133),    S(90, 77),      //
};
inline const std::array<PParam, 64> BISHOP_PSQT = {
    S(13, 276),     S(-5, 267),     S(-261, 312),   S(-162, 288),   S(-152, 307),   S(-213, 320),   S(-70, 314),    S(29, 281),     //
    S(148, 190),    S(102, 253),    S(121, 225),    S(58, 256),     S(62, 258),     S(105, 244),    S(140, 230),    S(118, 213),    //
    S(221, 201),    S(235, 218),    S(235, 230),    S(209, 222),    S(181, 219),    S(188, 222),    S(208, 214),    S(187, 191),    //
    S(199, 190),    S(226, 207),    S(230, 224),    S(232, 251),    S(264, 232),    S(190, 222),    S(194, 195),    S(156, 195),    //
    S(217, 157),    S(237, 185),    S(243, 206),    S(251, 224),    S(231, 234),    S(208, 223),    S(173, 203),    S(166, 168),    //
    S(243, 161),    S(279, 172),    S(293, 190),    S(240, 219),    S(233, 202),    S(227, 208),    S(234, 184),    S(176, 188),    //
    S(219, 127),    S(309, 142),    S(269, 155),    S(237, 178),    S(217, 181),    S(219, 157),    S(217, 159),    S(212, 145),    //
    S(236, 144),    S(225, 169),    S(232, 190),    S(245, 152),    S(240, 155),    S(238, 199),    S(232, 176),    S(216, 167),    //
};
inline const std::array<PParam, 64> ROOK_PSQT = {
    S(493, 321),    S(537, 323),    S(486, 344),    S(492, 331),    S(491, 321),    S(461, 327),    S(459, 338),    S(447, 348),    //
    S(381, 383),    S(476, 362),    S(544, 338),    S(486, 351),    S(477, 355),    S(455, 359),    S(384, 389),    S(362, 397),    //
    S(354, 373),    S(478, 337),    S(516, 325),    S(494, 320),    S(457, 334),    S(413, 358),    S(413, 358),    S(337, 397),    //
    S(344, 351),    S(432, 346),    S(462, 333),    S(443, 332),    S(435, 338),    S(394, 358),    S(382, 356),    S(310, 380),    //
    S(312, 310),    S(381, 315),    S(375, 330),    S(352, 333),    S(337, 344),    S(329, 358),    S(301, 351),    S(278, 350),    //
    S(291, 272),    S(359, 280),    S(350, 302),    S(336, 300),    S(331, 299),    S(307, 323),    S(298, 307),    S(261, 316),    //
    S(199, 288),    S(324, 239),    S(337, 261),    S(333, 274),    S(323, 275),    S(311, 283),    S(294, 268),    S(263, 285),    //
    S(248, 285),    S(275, 296),    S(335, 268),    S(351, 261),    S(339, 270),    S(321, 286),    S(307, 283),    S(285, 302),    //
};
inline const std::array<PParam, 64> QUEEN_PSQT = {
    S(658, 511),    S(707, 480),    S(674, 531),    S(624, 616),    S(634, 584),    S(630, 568),    S(658, 494),    S(586, 558),    //
    S(652, 570),    S(622, 652),    S(603, 690),    S(460, 781),    S(469, 768),    S(537, 713),    S(577, 611),    S(586, 587),    //
    S(626, 608),    S(678, 626),    S(618, 706),    S(565, 739),    S(539, 730),    S(571, 681),    S(620, 587),    S(620, 537),    //
    S(660, 541),    S(674, 604),    S(614, 672),    S(599, 718),    S(586, 721),    S(585, 653),    S(639, 562),    S(624, 531),    //
    S(665, 522),    S(667, 560),    S(640, 622),    S(607, 675),    S(606, 668),    S(607, 622),    S(619, 556),    S(641, 484),    //
    S(647, 462),    S(682, 504),    S(683, 562),    S(649, 562),    S(643, 558),    S(644, 570),    S(652, 501),    S(629, 476),    //
    S(629, 359),    S(664, 354),    S(672, 414),    S(688, 450),    S(673, 478),    S(664, 448),    S(633, 484),    S(638, 464),    //
    S(602, 380),    S(637, 228),    S(658, 239),    S(678, 336),    S(680, 394),    S(676, 351),    S(664, 376),    S(623, 426),    //
};
inline const std::array<PParam, 64> KING_PSQT = {
    S(-255, -270),  S(223, 76),     S(143, 49),     S(-161, 29),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(280, -109),   S(357, 81),     S(187, 100),    S(86, 9),       S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(203, 27),     S(419, 52),     S(286, 66),     S(136, 6),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-8, 30),      S(315, 28),     S(137, 51),     S(50, 25),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-94, 21),     S(206, 7),      S(135, 16),     S(25, 18),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-61, 23),     S(194, -4),     S(99, 12),      S(69, -15),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-2, -5),      S(90, 21),      S(2, 32),       S(-46, 2),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-125, -32),   S(-11, -13),    S(-113, 3),     S(-122, -62),   S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
};

inline const std::array<std::array<PParam, 7>, 4> KING_SHELTER = {{
  {{ S(18, -25), S(-0, 8), S(-6, 16), S(2, 2), S(2, 1), S(-5, 16), S(1, 14), }},
  {{ S(8, -7), S(-22, 32), S(-19, 27), S(-10, 6), S(-10, 9), S(-18, 34), S(-21, 45), }},
  {{ S(-10, 1), S(-23, 26), S(-22, 9), S(-19, -7), S(-18, -5), S(-21, 10), S(-21, 25), }},
  {{ S(4, -14), S(-15, -21), S(-7, -22), S(-2, -25), S(-3, -23), S(-8, -18), S(-11, -16), }},
}};
inline const std::array<PParam, 7> BLOCKED_SHELTER_STORM = {
    S(0, 0), S(0, 0), S(5, 19), S(-20, 34), S(-18, 23), S(-11, 10), S(-14, -3),
};
inline const std::array<std::array<PParam, 7>, 4> SHELTER_STORM = {{
  {{ S(-7, 11), S(-17, 17), S(-16, 16), S(-15, 10), S(-16, 6), S(-14, 6), S(-17, 14), }},
  {{ S(-6, 9), S(-14, 14), S(-21, 21), S(-18, 9), S(-17, 7), S(-20, 16), S(-14, 13), }},
  {{ S(-12, 10), S(-17, 3), S(-17, 11), S(-13, 10), S(-13, 7), S(-17, 9), S(-16, 5), }},
  {{ S(-13, 11), S(-19, 11), S(-20, 10), S(-14, 14), S(-13, 14), S(-19, 9), S(-21, 9), }},
}};
inline TunableSigmoid<32> KING_SAFETY_ACTIVATION(
        1088, 417, -28, 45
);
// Epoch duration: 9.05276s
// clang-format on
}  // namespace Clockwork
