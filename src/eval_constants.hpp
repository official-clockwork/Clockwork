#pragma once

#include "eval_types.hpp"

namespace Clockwork {

// clang-format off
inline const PParam PAWN_MAT   = S(178, 136);
inline const PParam KNIGHT_MAT = S(720, 311);
inline const PParam BISHOP_MAT = S(766, 318);
inline const PParam ROOK_MAT   = S(667, 346);
inline const PParam QUEEN_MAT  = S(2146, -863);
inline const PParam TEMPO_VAL  = S(65, 12);

inline const PParam BISHOP_PAIR_VAL   = S(80, 143);
inline const PParam ROOK_OPEN_VAL     = S(109, -23);
inline const PParam ROOK_SEMIOPEN_VAL = S(43, 9);

inline const PParam DOUBLED_PAWN_VAL = S(-34, -60);

inline const PParam POTENTIAL_CHECKER_VAL = S(-63, -3);
inline const PParam OUTPOST_KNIGHT_VAL    = S(46, 47);
inline const PParam OUTPOST_BISHOP_VAL    = S(56, 28);

inline const PParam PAWN_PUSH_THREAT_KNIGHT = S(46, 9);
inline const PParam PAWN_PUSH_THREAT_BISHOP = S(57, -22);
inline const PParam PAWN_PUSH_THREAT_ROOK   = S(34, 44);
inline const PParam PAWN_PUSH_THREAT_QUEEN  = S(70, -60);

inline const std::array<PParam, 6> PAWN_PHALANX = {
    S(20, 21), S(52, 35), S(71, 64), S(173, 139), S(498, 162), S(659, 571),
};
inline const std::array<PParam, 5> DEFENDED_PAWN = {
    S(67, 42), S(57, 33), S(73, 61), S(164, 117), S(565, -7),
};
inline const std::array<PParam, 6> PASSED_PAWN = {
    S(-91, -98), S(-83, -79), S(-49, 0), S(19, 82), S(119, 194), S(334, 251),
};
inline const std::array<PParam, 6> DEFENDED_PASSED_PUSH = {
    S(33, -32), S(33, -6), S(26, 22), S(18, 75), S(80, 144), S(160, 234),
};
inline const std::array<PParam, 6> BLOCKED_PASSED_PAWN = {
    S(17, -29), S(3, 11), S(-2, -14), S(-10, -35), S(-25, -87), S(-265, -123),
};

inline const std::array<PParam, 8> FRIENDLY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(33, 81), S(2, 80), S(-8, 39), S(-10, 17), S(-9, 18), S(24, 16), S(2, -4),
};
inline const std::array<PParam, 8> ENEMY_KING_PASSED_PAWN_DISTANCE = {
    S(0, 0), S(-305, -42), S(-13, -1), S(-6, 35), S(20, 74), S(33, 92), S(45, 101), S(23, 91),
};

inline const std::array<PParam, 9> KNIGHT_MOBILITY = {
    S(91, -101), S(180, 69), S(224, 148), S(258, 186), S(302, 201), S(329, 237), S(363, 234), S(398, 239), S(446, 178),
};
inline const std::array<PParam, 14> BISHOP_MOBILITY = {
    S(112, -145), S(167, 60), S(232, 128), S(264, 174), S(291, 208), S(309, 230), S(318, 249), S(333, 257), S(345, 269), S(365, 258), S(382, 251), S(432, 212), S(438, 212), S(497, 163),
};
inline const std::array<PParam, 15> ROOK_MOBILITY = {
    S(341, 106), S(287, 272), S(315, 295), S(334, 304), S(346, 319), S(353, 330), S(360, 341), S(370, 342), S(377, 350), S(388, 351), S(401, 350), S(411, 349), S(419, 347), S(438, 329), S(541, 240),
};
inline const std::array<PParam, 28> QUEEN_MOBILITY = {
    S(699, -223), S(812, -148), S(845, -52), S(867, 65), S(882, 123), S(895, 165), S(902, 199), S(912, 205), S(917, 228), S(923, 236), S(929, 245), S(935, 247), S(944, 240), S(947, 245), S(952, 240), S(953, 238), S(955, 234), S(959, 229), S(966, 215), S(981, 198), S(997, 173), S(1024, 140), S(1058, 103), S(1155, 4), S(1199, -43), S(1262, -85), S(1296, -120), S(1232, -100),
};
inline const std::array<PParam, 9> KING_MOBILITY = {
    S(558, -139), S(126, -70), S(39, 8), S(26, 26), S(4, 12), S(-21, 6), S(-22, 0), S(-40, -3), S(-43, -47),
};

inline const std::array<PParam, 3> KNIGHT_KING_RING = {
    S(-7, 32), S(20, 38), S(30, 40),
};
inline const std::array<PParam, 3> BISHOP_KING_RING = {
    S(-4, 35), S(-6, 17), S(-9, -1),
};
inline const std::array<PParam, 5> ROOK_KING_RING = {
    S(-5, 43), S(16, 56), S(16, 63), S(23, 78), S(399, 63),
};
inline const std::array<PParam, 6> QUEEN_KING_RING = {
    S(438, 551), S(299, 327), S(162, 173), S(29, 70), S(-94, 59), S(-232, 48),
};

inline const std::array<PParam, 5> PT_INNER_RING_ATTACKS = {
    S(13, 4), S(1, -2), S(19, 20), S(-4, -11), S(137, 183),
};
inline const std::array<PParam, 5> PT_OUTER_RING_ATTACKS = {
    S(2, 2), S(8, 1), S(7, -0), S(6, 0), S(7, 265),
};

inline const PParam PAWN_THREAT_KNIGHT = S(240, 69);
inline const PParam PAWN_THREAT_BISHOP = S(215, 116);
inline const PParam PAWN_THREAT_ROOK   = S(216, 97);
inline const PParam PAWN_THREAT_QUEEN  = S(191, -54);

inline const PParam KNIGHT_THREAT_BISHOP = S(123, 78);
inline const PParam KNIGHT_THREAT_ROOK   = S(255, 22);
inline const PParam KNIGHT_THREAT_QUEEN  = S(169, -47);

inline const PParam BISHOP_THREAT_KNIGHT = S(117, 51);
inline const PParam BISHOP_THREAT_ROOK   = S(247, 80);
inline const PParam BISHOP_THREAT_QUEEN  = S(204, 52);

inline const std::array<PParam, 9> BISHOP_PAWNS = {
    S(3, -22), S(-4, -11), S(-5, -21), S(-10, -28), S(-16, -32), S(-22, -34), S(-26, -43), S(-33, -41), S(-45, -41),
};

inline const PParam ROOK_LINEUP = S(13, 79);

inline const std::array<PParam, 48> PAWN_PSQT = {
    S(347, 247),    S(227, 318),    S(352, 291),    S(316, 229),    S(338, 184),    S(271, 244),    S(212, 272),    S(307, 222),    //
    S(146, 157),    S(208, 180),    S(217, 128),    S(187, 93),     S(166, 79),     S(146, 113),    S(135, 150),    S(79, 165),     //
    S(105, 133),    S(110, 133),    S(132, 82),     S(122, 70),     S(109, 68),     S(83, 93),      S(51, 136),     S(33, 151),     //
    S(70, 105),     S(82, 123),     S(96, 84),      S(84, 82),      S(61, 85),      S(50, 103),     S(9, 145),      S(-5, 128),     //
    S(61, 79),      S(121, 80),     S(95, 103),     S(79, 103),     S(49, 108),     S(27, 110),     S(11, 129),     S(-9, 111),     //
    S(81, 82),      S(190, 91),     S(166, 134),    S(112, 132),    S(80, 129),     S(59, 123),     S(45, 137),     S(11, 128),     //
};
inline const std::array<PParam, 64> KNIGHT_PSQT = {
    S(-300, -6),    S(-205, 220),   S(-271, 219),   S(48, 175),     S(-11, 171),    S(-134, 172),   S(-312, 228),   S(-356, 67),    //
    S(85, 156),     S(155, 145),    S(233, 98),     S(219, 118),    S(204, 136),    S(154, 129),    S(116, 160),    S(72, 152),     //
    S(182, 119),    S(228, 126),    S(247, 150),    S(234, 148),    S(203, 162),    S(152, 176),    S(160, 135),    S(112, 147),    //
    S(245, 139),    S(267, 140),    S(260, 159),    S(252, 179),    S(254, 186),    S(208, 180),    S(206, 156),    S(186, 142),    //
    S(246, 134),    S(278, 116),    S(261, 150),    S(256, 165),    S(233, 174),    S(227, 166),    S(217, 133),    S(185, 137),    //
    S(183, 110),    S(215, 108),    S(206, 139),    S(220, 159),    S(217, 157),    S(176, 143),    S(166, 113),    S(131, 92),     //
    S(194, 114),    S(216, 112),    S(192, 107),    S(196, 126),    S(185, 125),    S(153, 90),     S(147, 111),    S(111, 54),     //
    S(127, 84),     S(173, 123),    S(192, 108),    S(207, 103),    S(191, 113),    S(152, 92),     S(139, 111),    S(91, 48),      //
};
inline const std::array<PParam, 64> BISHOP_PSQT = {
    S(8, 254),      S(-8, 247),     S(-262, 292),   S(-168, 271),   S(-151, 286),   S(-213, 298),   S(-72, 294),    S(31, 259),     //
    S(147, 173),    S(104, 229),    S(123, 200),    S(60, 230),     S(63, 234),     S(108, 223),    S(143, 211),    S(116, 206),    //
    S(222, 180),    S(239, 190),    S(236, 204),    S(207, 198),    S(177, 200),    S(189, 201),    S(212, 197),    S(187, 181),    //
    S(196, 171),    S(229, 182),    S(229, 196),    S(230, 225),    S(259, 211),    S(187, 200),    S(197, 178),    S(154, 184),    //
    S(219, 134),    S(241, 157),    S(249, 181),    S(254, 197),    S(233, 209),    S(212, 200),    S(173, 183),    S(167, 152),    //
    S(246, 134),    S(285, 146),    S(299, 165),    S(248, 192),    S(238, 178),    S(232, 182),    S(239, 161),    S(178, 166),    //
    S(223, 106),    S(314, 114),    S(276, 131),    S(244, 152),    S(224, 155),    S(226, 131),    S(223, 129),    S(216, 120),    //
    S(243, 117),    S(230, 142),    S(237, 158),    S(248, 136),    S(244, 136),    S(244, 169),    S(237, 149),    S(222, 138),    //
};
inline const std::array<PParam, 64> ROOK_PSQT = {
    S(457, 303),    S(506, 300),    S(458, 321),    S(465, 307),    S(466, 297),    S(436, 304),    S(431, 315),    S(413, 329),    //
    S(357, 350),    S(448, 332),    S(511, 314),    S(450, 333),    S(444, 335),    S(426, 337),    S(359, 364),    S(338, 371),    //
    S(338, 344),    S(458, 307),    S(491, 301),    S(472, 299),    S(441, 312),    S(395, 335),    S(395, 334),    S(322, 372),    //
    S(327, 329),    S(415, 320),    S(446, 308),    S(430, 309),    S(421, 316),    S(377, 340),    S(364, 340),    S(295, 363),    //
    S(295, 288),    S(364, 290),    S(359, 308),    S(340, 308),    S(323, 322),    S(310, 341),    S(281, 337),    S(260, 334),    //
    S(276, 245),    S(341, 254),    S(335, 279),    S(323, 275),    S(317, 276),    S(289, 303),    S(279, 289),    S(243, 297),    //
    S(184, 258),    S(306, 212),    S(323, 235),    S(322, 246),    S(311, 248),    S(296, 258),    S(277, 244),    S(246, 258),    //
    S(236, 242),    S(262, 255),    S(321, 245),    S(336, 237),    S(325, 243),    S(307, 256),    S(293, 252),    S(272, 269),    //
};
inline const std::array<PParam, 64> QUEEN_PSQT = {
    S(642, 236),    S(690, 207),    S(661, 252),    S(617, 329),    S(627, 296),    S(619, 288),    S(644, 220),    S(571, 285),    //
    S(641, 287),    S(613, 367),    S(600, 403),    S(464, 486),    S(472, 474),    S(530, 430),    S(565, 332),    S(574, 305),    //
    S(615, 317),    S(676, 328),    S(615, 407),    S(567, 434),    S(539, 429),    S(565, 388),    S(615, 294),    S(609, 249),    //
    S(656, 257),    S(673, 312),    S(614, 381),    S(600, 429),    S(585, 432),    S(584, 361),    S(633, 274),    S(617, 244),    //
    S(656, 247),    S(660, 285),    S(632, 346),    S(598, 399),    S(596, 394),    S(598, 344),    S(609, 278),    S(627, 212),    //
    S(632, 200),    S(668, 236),    S(667, 292),    S(634, 293),    S(626, 291),    S(628, 300),    S(635, 231),    S(614, 205),    //
    S(612, 97),     S(643, 94),     S(653, 146),    S(667, 181),    S(653, 209),    S(646, 182),    S(615, 214),    S(621, 188),    //
    S(585, 102),    S(616, -33),    S(638, -35),    S(657, 58),     S(659, 122),    S(655, 81),     S(645, 102),    S(606, 143),    //
};
inline const std::array<PParam, 64> KING_PSQT = {
    S(-346, -254),  S(144, 88),     S(131, 36),     S(-166, 25),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(175, -89),    S(281, 118),    S(153, 126),    S(75, 55),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(110, 27),     S(321, 95),     S(229, 99),     S(100, 64),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-79, 24),     S(217, 79),     S(64, 99),      S(-4, 98),      S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-141, 9),     S(121, 57),     S(44, 81),      S(-72, 122),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-65, -17),    S(163, 19),     S(52, 57),      S(3, 83),       S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(18, -62),     S(112, 9),      S(24, 27),      S(-35, 48),     S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
    S(-102, -121),  S(10, -57),     S(-82, -62),    S(-92, -98),    S(0, 0),        S(0, 0),        S(0, 0),        S(0, 0),        //
};

inline const std::array<std::array<PParam, 7>, 4> KING_SHELTER = {{
  {{ S(-44, -32), S(-59, -32), S(-67, -33), S(-59, -34), S(-59, -34), S(-65, -33), S(-57, -32), }},
  {{ S(-56, -35), S(-83, -36), S(-81, -38), S(-72, -41), S(-71, -39), S(-80, -37), S(-81, -35), }},
  {{ S(-72, -47), S(-83, -46), S(-82, -49), S(-78, -52), S(-78, -51), S(-80, -49), S(-81, -46), }},
  {{ S(-56, -34), S(-76, -40), S(-67, -40), S(-63, -39), S(-64, -39), S(-68, -40), S(-72, -38), }},
}};
inline const std::array<PParam, 7> BLOCKED_SHELTER_STORM = {
    S(0, 0), S(0, 0), S(-38, -24), S(-64, -29), S(-63, -29), S(-54, -30), S(-62, -32),
};
inline const std::array<std::array<PParam, 7>, 4> SHELTER_STORM = {{
  {{ S(-50, -30), S(-63, -29), S(-62, -29), S(-60, -29), S(-62, -30), S(-60, -29), S(-63, -29), }},
  {{ S(-49, -30), S(-59, -29), S(-67, -28), S(-62, -32), S(-63, -32), S(-65, -28), S(-59, -28), }},
  {{ S(-55, -33), S(-62, -31), S(-63, -30), S(-57, -30), S(-57, -31), S(-63, -30), S(-61, -30), }},
  {{ S(-56, -34), S(-66, -31), S(-67, -32), S(-58, -30), S(-57, -30), S(-67, -31), S(-68, -31), }},
}};
inline TunableSigmoid<32> KING_SAFETY_ACTIVATION(
    895, 2096, -126, 37
);
// Epoch duration: 9.86598s
// clang-format on
}  // namespace Clockwork
